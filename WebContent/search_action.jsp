<%@ page language="java" import="cmc.account.user.*, java.util.ArrayList, cmc.university.*"%>

<%
UserInteraction ui = (UserInteraction)session.getAttribute("loggedInController");
ArrayList<University> searchResults = new ArrayList<University>();
searchResults.addAll(ui.searchUniversities(request.getParameter("schoolName"), request.getParameter("state"), request.getParameter("location"), request.getParameter("control"), Integer.parseInt(request.getParameter("minStudents")), Integer.parseInt(request.getParameter("maxStudents")), Integer.parseInt(request.getParameter("minFemale")), Integer.parseInt(request.getParameter("maxFemale")), Integer.parseInt(request.getParameter("minSATVerbal")), Integer.parseInt(request.getParameter("maxSATVerbal")), Integer.parseInt(request.getParameter("minSATMAth")), Integer.parseInt(request.getParameter("maxSATMath")), Integer.parseInt(request.getParameter("minExpenses")), Integer.parseInt(request.getParameter("maxExpenses")), Integer.parseInt(request.getParameter("minAid")), Integer.parseInt(request.getParameter("maxAid")), Integer.parseInt(request.getParameter("minApplicants")), Integer.parseInt(request.getParameter("maxApplicants")), Integer.parseInt(request.getParameter("minAdmitted")), Integer.parseInt(request.getParameter("maxAdmitted")), Integer.parseInt(request.getParameter("minEnrolled")), Integer.parseInt(request.getParameter("maxEnrolled")), Integer.parseInt(request.getParameter("minAcademicScale")), Integer.parseInt(request.getParameter("maxAcademicScale")), Integer.parseInt(request.getParameter("minSocialScale")), Integer.parseInt(request.getParameter("maxSocialScale")), Integer.parseInt(request.getParameter("minQOL")), Integer.parseInt(request.getParameter("maxQOL")), request.getParameter("emphasis1"), request.getParameter("emphasis2"), request.getParameter("emphasis3"), request.getParameter("emphasis4"), request.getParameter("emphasis5")));
session.setAttribute("searchResults", searchResults);
response.sendRedirect("searhresults.jsp");
%>